# Team Agents Design - logmee

## Overview

logmee プロジェクト専用の Claude Code カスタムエージェントチームを作成する。
5つのエージェント（チームリード + 4つの専門エージェント）で構成し、
開発ワークフロー全体をカバーする。

## 背景

- レビュアーが非常に厳格であり、コードレビュアーエージェントは全方位で最厳格な基準を持つ
- logmee は React + TypeScript + Supabase + Vite のスタック
- デプロイ先は Netlify
- 現在テストフレームワークは未導入

## ファイル配置

```
logmee /.claude/agents/
├── team-lead.md          # チームリード（オーケストレーター）
├── code-reviewer.md      # コードレビュアー（最厳格）
├── tester.md             # テスター
├── deployer.md           # デプロイ担当
└── documenter.md         # ドキュメント担当
```

## エージェント詳細

### 1. team-lead.md（チームリード）

- **役割**: 開発タスクの全体把握、適切なエージェントの使用を提案
- **機能**:
  - git 状態の確認、変更内容の把握
  - タスクに応じた適切なエージェントの案内
  - 開発フロー全体の進捗チェックリスト提示
- **ツールアクセス**: 読み取り専用（Bash, Read, Glob, Grep）

### 2. code-reviewer.md（コードレビュアー）

- **役割**: コード品質の門番。レビュアーに指摘される前にすべて潰す
- **チェック項目（全方位・最厳格）**:
  - TypeScript 厳密性: `any` 禁止、適切な型定義、null 安全性、型ガード
  - React 最適化: 不要な再レンダリング、`useMemo`/`useCallback` の適切な使用、key prop
  - 命名規則: PascalCase（コンポーネント）、camelCase（変数）、UPPER_SNAKE_CASE（定数）、一貫性
  - セキュリティ: XSS 対策、SQL インジェクション、環境変数ハードコード禁止
  - エラーハンドリング: try-catch、ユーザーフレンドリーなエラー表示、ネットワークエラー対応
  - アクセシビリティ: aria 属性、セマンティック HTML、キーボードナビゲーション
  - パフォーマンス: バンドルサイズ、遅延読み込み、不要なインポート
  - コードの匂い: マジックナンバー、重複コード、長すぎる関数、深いネスト
- **ツールアクセス**: 読み取り専用 + Bash（lint/tsc 実行）

### 3. tester.md（テスター）

- **役割**: テストケース作成・手動テスト手順の提供
- **機能**:
  - 変更箇所に対するテストケース一覧を生成
  - 手動テスト手順書の作成
  - エッジケース・境界値の洗い出し
  - リグレッションテスト対象の特定
- **ツールアクセス**: 全ツール

### 4. deployer.md（デプロイ担当）

- **役割**: Netlify へのビルド・デプロイを安全に実行
- **機能**:
  - デプロイ前チェック（ビルドエラー確認、環境変数存在確認）
  - `npm run build` の実行と結果確認
  - Netlify CLI によるデプロイ（プレビュー/本番）
  - デプロイ後の動作確認手順の提示
- **ツールアクセス**: 全ツール

### 5. documenter.md（ドキュメント担当）

- **役割**: プロジェクトドキュメントの作成・更新
- **機能**:
  - README.md の更新
  - コンポーネント一覧・API 仕様の文書化
  - 変更履歴（CHANGELOG）の管理
  - 型定義（types.ts）変更に対するドキュメント同期
- **ツールアクセス**: 全ツール

## アーキテクチャ方針

- **アプローチ B（オーケストレーター方式）** を採用
- team-lead が全体を統括し、各エージェントの使用タイミングを案内
- 各エージェントは独立して呼び出し可能
- logmee のスタック（React, TypeScript, Supabase, Vite, Netlify）に特化したプロンプト
